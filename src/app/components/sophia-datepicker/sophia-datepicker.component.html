<div class="container mt-3">

  <div class="row">
    <!-- Small Screens <select> -->
    <div class="mb-3 d-md-none" [ngClass]="type == 'single'? 'col-6 col-sm-4':'col-12 col-sm-4'">
      <select class="form-control" name="select_movile" [ngModel]="timeframeSelect" (ngModelChange)="changeRange($event)">
        <option value="0" style="display: none">date range...</option>
        <option *ngFor="let btn of modelButtons" [value]="btn.value">{{ btn.label }} <i *ngIf="btn.icon" class="{{ btn.icon }}"></i></option>
      </select>
    </div>

    <!-- Big Screens <radio buttons> -->
    <div class="mb-3" [ngClass]="type == 'single'? 'col-md-6 col-lg-4 d-none d-md-block':'col-md-6 col-lg-4 d-none d-md-block'">
      <div class="btn-group btn-group-toggle"
        ngbRadioGroup
        [(ngModel)]="timeframeButtonModel"
        name="timeFrameSelection"
        (ngModelChange)="onTimeframeChange()"
      >
        <label ngbButtonLabel class="btn-primary" *ngFor="let btn of modelButtons">
          {{ btn.label }} <i *ngIf="btn.icon" class="{{ btn.icon }}"></i>
          <input ngbButton name="btn.value" type="radio" [value]="btn.value"/>
        </label>
      </div>
    </div>

    <div class="mb-3" [ngClass]="type == 'single'? 'd-none':'d-sm-none'">
      <!-- Fix Div -->
    </div>

    <!-- DatePicker 1 -->
    <div class="mb-3" [ngClass]="type == 'single'? 'col-6 col-sm-5 col-md-4 col-lg-3':'col-6 col-sm-4 col-md-3 col-lg-2'">
      <input class="form-control" placeholder="yyyy-mm-dd"
             name="dp" [(ngModel)]="ngbStartDate" ngbDatepicker #d1="ngbDatepicker"
             [minDate]="minDate"
             [maxDate]="today"
             (click)="this.d1.toggle()"
             (ngModelChange)="ngbStartDateChanged()">

      <ngb-timepicker *ngIf="useTime" [(ngModel)]="ngbStartTime" [seconds]="this.useSeconds" [spinners]="false" (ngModelChange)="ngbStartTimeChanged()"></ngb-timepicker>
    </div>

    <!-- DatePicker 2 -->
    <div *ngIf="type !== 'single'"
         class="mb-3" [ngClass]="!useTime? 'col-6 col-sm-5 col-md-4':'col-6 col-sm-4 col-md-3 col-lg-2'">
      <input class="form-control" placeholder="yyyy-mm-dd"
             name="dp" [(ngModel)]="ngbEndDate" ngbDatepicker #d2="ngbDatepicker"
             [minDate]="$any(ngbStartDate) ?? $any(minDate)"
             [maxDate]="today"
             (click)="this.d2.toggle()"
             (ngModelChange)="ngbEndDateChanged()">

      <ngb-timepicker *ngIf="useTime && type !== 'single'" [(ngModel)]="ngbEndTime" [seconds]="this.useSeconds" [spinners]="false" (ngModelChange)="ngbEndTimeChanged()"></ngb-timepicker>
    </div>

    <!-- Save/Submit Button -->
    <div [ngClass]="type == 'single' && !useTime? 'col-12 col-sm-3 col-md-2'
    :(type != 'single' && !useTime? ''
    :(type == 'single' && useTime? 'col-12 col-sm-3 col-md-2':''))" class="mb-3" *ngIf="submitButton">
      <button class="btn btn-primary" type="button" (click)="emitDateSelection()">
        <span *ngIf="submitButton.label">{{submitButton.label}} </span>
        <i *ngIf="submitButton.icon" class="{{submitButton.icon}}"></i>
      </button>
    </div>
  </div>

</div>
